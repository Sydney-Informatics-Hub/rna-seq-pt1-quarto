---
fig-cap-location: top
---

# **Helpful Nextflow logs**


<div class="questions">

### **Questions**

- What information does the timeline log file provide us?
- How can we estimate the CPU/memory resource requirements?
- What were the main observations and possible limitations when running the pipeline?
</div>  

<div class="objectives">

### **Objectives**

- Understand the timelines for multiple processes
- Estimate the resource requirements for multiple processes
- Analysing the technical requirements to run nf-core pipelines

</div>  


## **Workflow timeline**

![](/fig/timeline.png)

- Different processing times for different tools.
- Each process can be assigned specifc resources using a nextflow.config file.
- Nextflow parallises runs of multiple samples for specific processes depending on the available rersources; This step can thus get constrained by available resources (CPUs/memory) on the resource (here Nimbus VM).


## **Compute resource usage**
![](/fig/cpu_usage.png)

- Shows multiple graphical statistics displaying the resource usage for various processes in the run.
- This helps to get an estimate of the required resources for independant processes and assign them for future runs.


### Analysing the technical requirements
- **Big data size reflecting on resource requirements**: The data used for this run is massively subsetted. Real bioinformatics samples for RNASeq are in the range of few GB. Many bioinformatics tools can use multiple CPUs and quite a few also display high memory requirements.
- **Storing big reference databases for re-use**: Resources such as "cvmfs" will be ideal for storing big sized reference datasets in central repostories. 
- **Storing most recent version of the 'nf-core software; as backup**: Although it is recommended to download the latest version of a nf-core pipeline, it was observed that the most recent version of nf-core/rnaseq displayed errors. So we are hosting a near recent copy of the pipeline from the "cvmfs". Since (possibly) minor changes are observed between sub-versions of nf-core pipelines, this approach can be used as an effective alternative.
- **Storing singularity containers in cvmfs!!**: Need to weigh the pros and cons! - Also,  this is directly dependant on whether we download the nf-core pipeline on the fly (or use an older version)...
- **X11 Forwarding**: The analysis can be streamlined if the user is able to visualise and run GUI based applications on the Vm instances.


<div class="keypoints">

### **Key points**
- Nextflow provides easy to understand html log files, which can be used to understand the system resource requirement and hence planning for future big runs.
</div>  
